(()=>{var e={995:()=>{const e=document.createElement("template");e.innerHTML='\n\x3c!-- Bulma --\x3e\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">\n\n<footer class="footer has-background-black-bis has-text-light">\n  <div class="content has-text-centered">\n    <p>\n      <strong>Void Break 2</strong> by Noah Emke. Check out my <a href="https://github.com/MTFT-Games">GitHub</a> and <a href="https://noahemke.com/">website</a> for more of my work.\n    </p>\n  </div>\n</footer>\n';class a extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0))}}customElements.define("footer-comp",a)}},a={};function t(c){var s=a[c];if(void 0!==s)return s.exports;var l=a[c]={exports:{}};return e[c](l,l.exports,t),l.exports}(()=>{"use strict";const{useState:e}=React,a=({modalOpen:a,setModalOpen:t,setAccount:c})=>{const[s,l]=e(!1);return React.createElement("div",{className:"modal "+(a?"is-active":"")},React.createElement("div",{className:"modal-background",onClick:()=>t(!1)}),React.createElement("div",{className:"modal-card"},React.createElement("header",{className:"modal-card-head"},React.createElement("p",{className:"modal-card-title"},s?"Sign Up":"Login"),React.createElement("button",{className:"delete","aria-label":"close",onClick:()=>t(!1)})),React.createElement("section",{className:"modal-card-body"},React.createElement("div",{className:"tabs"},React.createElement("ul",null,React.createElement("li",{className:s?"":"is-active"},React.createElement("a",{onClick:()=>l(!1)},"Login")),React.createElement("li",{className:s?"is-active":""},React.createElement("a",{onClick:()=>l(!0)},"Sign Up")))),s?React.createElement("form",{id:"signupForm",name:"signupForm",onSubmit:async e=>{e.preventDefault();const a=e.target.querySelector("#username").value,t=e.target.querySelector("#pass").value,s=e.target.querySelector("#pass2").value,l=e.target.querySelector("#email").value;if(t!==s)return e.target.querySelector("#pass2").value="",e.target.querySelector("#pass2").placeholder="Passwords don't match",void e.target.querySelector("#pass2").classList.add("is-danger");const n=await fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,pass:t,pass2:s,email:l})}),r=await n.json();if(n.ok)return void c(r);if("UserTaken"==r.id)return e.target.querySelector("#username").value="",e.target.querySelector("#username").placeholder="Username already taken",void e.target.querySelector("#username").classList.add("is-danger");const i=document.createElement("p");i.classList.add("is-danger"),i.textContent="An unknown error occurred, please try again later.",e.target.appendChild(i)},action:"/signup",method:"POST"},React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Username"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"username",id:"username",type:"text",placeholder:"Username",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-user"})))),React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Email"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"email",id:"email",type:"email",placeholder:"Email",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-envelope"})))),React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Password"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"pass",id:"pass",type:"password",placeholder:"Password",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-key"})))),React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Confirm Password"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"pass2",id:"pass2",type:"password",placeholder:"Re-type Password",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-key"})))),React.createElement("div",{className:"field is-grouped"},React.createElement("div",{className:"control"},React.createElement("input",{type:"submit",className:"button is-primary",value:"Submit"})),React.createElement("div",{className:"control"},React.createElement("button",{className:"button is-text",onClick:()=>t(!1)},"Cancel")))):React.createElement("form",{id:"loginForm",name:"loginForm",onSubmit:async e=>{e.preventDefault();const a=e.target.querySelector("#username").value,t=e.target.querySelector("#pass").value,s=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,pass:t})}),l=await s.json();if(s.ok)return void c(l);if("BadAuth"==l.id)return e.target.querySelector("#username").value="",e.target.querySelector("#username").classList.add("is-danger"),e.target.querySelector("#pass2").value="",void e.target.querySelector("#pass2").classList.add("is-danger");const n=document.createElement("p");n.classList.add("is-danger"),n.textContent="An unknown error occurred, please try again later.",e.target.appendChild(n)},action:"/login",method:"POST"},React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Username"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"username",id:"username",type:"text",placeholder:"Username",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-user"})))),React.createElement("div",{className:"field"},React.createElement("label",{className:"label"},"Password"),React.createElement("div",{className:"control has-icons-left"},React.createElement("input",{className:"input",name:"pass",id:"pass",type:"password",placeholder:"Password",required:!0}),React.createElement("span",{className:"icon is-small is-left"},React.createElement("i",{className:"fas fa-key"})))),React.createElement("div",{className:"field is-grouped"},React.createElement("div",{className:"control"},React.createElement("input",{type:"submit",className:"button is-primary",value:"Submit"})),React.createElement("div",{className:"control"},React.createElement("button",{className:"button is-text",onClick:()=>t(!1)},"Cancel")))))))},{useState:c}=React,s=({initialAccount:e})=>{const[t,s]=c(e),[l,n]=c(!1);return React.createElement("div",{className:"navbar-item is-tab has-text-light dropdown is-hoverable is-right"+(l?" is-active":"")},React.createElement("div",{className:"dropdown-trigger"},"Account"),React.createElement("div",{className:"dropdown-menu"},React.createElement("div",{className:"dropdown-content has-text-dark"},(e=>e?React.createElement("div",{className:"is-flex is-flex-direction-column is-align-items-center"},React.createElement("p",null,e.username),React.createElement("p",null,e.email),React.createElement("button",{className:"button",onClick:()=>{fetch("/logout").then((()=>s(null)))}},"Logout")):React.createElement("div",{className:"is-flex is-flex-direction-column is-align-items-center"},React.createElement("p",null,"Not logged in"),React.createElement("button",{className:"button",onClick:()=>n(!0)},"Login/Signup"),React.createElement(a,{modalOpen:l,setModalOpen:n,setAccount:s})))(t))))},{useState:l}=React,n=({active:e,account:a})=>{const[t,c]=l(!1);return React.createElement("header",null,React.createElement("nav",{className:"navbar py-3"},React.createElement("div",{className:"navbar-brand"},React.createElement("a",{href:"/",className:"navbar-item"},React.createElement("i",{className:"fa-brands fa-battle-net is-size-3 has-text-light mr-2"}),React.createElement("h1",{className:"title has-text-light"},"Void Break 2")),React.createElement("a",{className:"navbar-burger has-text-light "+(t?"is-active":""),onClick:()=>c(!t)},React.createElement("span",null),React.createElement("span",null),React.createElement("span",null))),React.createElement("div",{className:"navbar-menu "+(t?"is-active":"")},React.createElement("div",{className:"navbar-end"},React.createElement("a",{className:"navbar-item is-tab has-text-light "+("about"===e?"is-active":""),href:"/",id:"about"},"About"),React.createElement("a",{className:"navbar-item is-tab has-text-light "+("game"===e?"is-active":""),href:"/game",id:"game"},"Game"),React.createElement(s,{initialAccount:a})))))},r=document.getElementById("nav-header"),i=r.textContent.split("|"),m=i[1]?JSON.parse(i[1]):null;ReactDOM.render(React.createElement(n,{active:i[0],account:m}),r),t(995)})()})();