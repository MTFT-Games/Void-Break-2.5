(()=>{var t={887:()=>{const{useState:t,useEffect:e}=React,s=({active:e,account:s})=>{const[i,a]=t(!1);return React.createElement("header",null,React.createElement("nav",{className:"navbar py-3"},React.createElement("div",{className:"navbar-brand"},React.createElement("a",{href:"/",className:"navbar-item"},React.createElement("i",{className:"fa-brands fa-battle-net is-size-3 has-text-light mr-2"}),React.createElement("h1",{className:"title has-text-light"},"Void Break 2")),React.createElement("a",{className:"navbar-burger has-text-light "+(i?"is-active":""),onClick:()=>a(!i)},React.createElement("span",null),React.createElement("span",null),React.createElement("span",null))),React.createElement("div",{className:"navbar-menu "+(i?"is-active":"")},React.createElement("div",{className:"navbar-end"},React.createElement("a",{className:"navbar-item is-tab has-text-light "+("about"===e?"is-active":""),href:"/",id:"about"},"About"),React.createElement("a",{className:"navbar-item is-tab has-text-light "+("game"===e?"is-active":""),href:"/game",id:"game"},"Game"),React.createElement("a",{className:"navbar-item is-tab has-text-light "+("documentation"===e?"is-active":""),href:"documentation.html",id:"documentation"},"Documentation")))))},i=document.getElementById("nav-header"),a=i.textContent.split(","),h=a[1]?JSON.parse(a[1]):null;ReactDOM.render(React.createElement(s,{active:a[0],account:h}),i)}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var h=e[i]={exports:{}};return t[i](h,h.exports,s),h.exports}(()=>{"use strict";function t(t,e){if((t.pos.x-e.pos.x)*(t.pos.x-e.pos.x)+(t.pos.y-e.pos.y)*(t.pos.y-e.pos.y)<=(t.radius+e.radius)*(t.radius+e.radius))return!0}s(887);class e{constructor(t,e={x:0,y:0},s=0,i){this.worldSize=i,this.pos={x:t.x,y:t.y},this.vel={x:e.x,y:e.y},this.angle=s}move(t){this.pos.x+=this.vel.x*t,this.pos.y+=this.vel.y*t}update(t){this.move(t),this.pos.x<0?this.pos.x+=this.worldSize:this.pos.x>this.worldSize&&(this.pos.x-=this.worldSize),this.pos.y<0?this.pos.y+=this.worldSize:this.pos.y>this.worldSize&&(this.pos.y-=this.worldSize)}}class i extends e{constructor(t,e){super(t,{x:0,y:0},0,e.worldSize),this.sounds=e.sounds,this.game=e}reset(){this.worldSize=this.game.worldSize,this.friction=this.game.defaults.player.friction,this.vel={x:this.worldSize/3,y:-this.worldSize/3},this.thrust=this.game.defaults.player.thrust,this.turnSpeed=this.game.defaults.player.turnSpeed,this.turning={cw:0,ccw:0},this.thrusting=!1,this.angle=45,this.radius=16,this.health={max:this.game.defaults.player.baseHealth,current:this.game.defaults.player.baseHealth},this.shield={max:this.game.defaults.player.baseShield,current:this.game.defaults.player.baseShield},this.damageCooldown={max:this.game.defaults.player.regenCooldown,current:0},this.regenRate=this.game.defaults.player.regenRate,this.projectiles=this.game.defaults.player.baseProjectiles,this.bullet=this.game.defaults.player.baseBullet,this.bullets=[],this.firing=!1,this.startFiring=!1,this.bulletLimit=this.game.defaults.player.bulletLimit}draw(){const t=this.game.canvas,e=this.game.ctx;e.save(),e.translate(t.width/2,t.height/2),e.rotate(this.angle*(Math.PI/180)),e.scale(8,8),e.fillStyle="white",e.beginPath(),e.moveTo(0,-2),e.lineTo(1.5,2),e.lineTo(0,1),e.lineTo(-1.5,2),e.closePath(),e.fill(),this.thrusting&&(e.fillStyle="rgba(180,180,255, 0.8)",e.beginPath(),e.moveTo(0,1),e.lineTo(-1.2,3),e.lineTo(0,5),e.lineTo(1.2,3),e.closePath(),e.fill()),e.restore(),e.save(),e.translate(t.width/2,t.height-50),e.scale(3,1),e.fillStyle="#3f3f3f",e.beginPath(),e.rect(-this.health.max/2,10,this.health.max,20),e.fill(),e.fillStyle="#cf0000",e.beginPath(),e.rect(-this.health.current/2,10,this.health.current,20),e.fill(),e.fillStyle="#3f3f3f",e.beginPath(),e.rect(-this.shield.max/2,-20,this.shield.max,20),e.fill(),e.fillStyle="#0000cf",e.beginPath(),e.rect(-this.shield.current/2,-20,this.shield.current,20),e.fill(),e.restore()}update(t){for(this.angle+=this.turnSpeed*t*(this.turning.cw-this.turning.ccw),this.vel.x*=1-this.friction*t,this.vel.y*=1-this.friction*t,this.vel.x*this.vel.x+this.vel.y*this.vel.y<.01&&(this.vel.x=0,this.vel.y=0),this.thrusting&&(this.vel.x+=this.thrust*t*Math.sin(this.angle*(Math.PI/180)),this.vel.y-=this.thrust*t*Math.cos(this.angle*(Math.PI/180))),super.update(t),this.damageCooldown.current-=t,this.projectiles.cooldown-=t,this.startFiring&&this.projectiles.cooldown<=0&&(this.startFiring=!1,this.firing=!0,this.projectiles.cooldown=0);this.firing&&this.projectiles.cooldown<=0;)this.shoot();this.shield.current<this.shield.max&&this.damageCooldown.current<=0&&(this.shield.current+=this.shield.max/this.regenRate*t,this.shield.current>this.shield.max&&(this.shield.current=this.shield.max)),this.bullets.forEach((e=>{e.update(t)})),this.bullets=this.bullets.filter((t=>t.lifetime>0))}checkCollisions(){this.game.asteroids.forEach((e=>{if(t(this,e)){let t={x:e.pos.x-this.pos.x,y:e.pos.y-this.pos.y};e.vel.x+=t.x*(this.health.max/20),e.vel.y+=t.y*(this.health.max/20);let s=e.radius;s>30&&(s=30),this.vel.x-=s/3*t.x,this.vel.y-=s/3*t.y,this.damage(s),e.damage(this.health.max)}})),this.bullets.forEach((t=>{t.checkCollisions()}))}shoot(){this.bullets.length<this.bulletLimit&&this.bullets.push(new a(this)),this.projectiles.cooldown+=1/this.projectiles.rate,this.sounds.shoot1.play()}damage(t){this.damageCooldown.current=this.damageCooldown.max,this.shield.current-=t,this.shield.current<0&&(this.health.current+=this.shield.current,this.shield.current=0,this.health.current<=0&&(this.game.state="game over"))}}class a extends e{constructor(t){super({x:t.pos.x+t.vel.x*t.projectiles.cooldown,y:t.pos.y+t.vel.y*t.projectiles.cooldown},{x:t.vel.x+t.bullet.speed*Math.sin(t.angle*(Math.PI/180)),y:t.vel.y-t.bullet.speed*Math.cos(t.angle*(Math.PI/180))},t.angle,t.worldSize),this.parent=t,this.radius=4*this.parent.bullet.size,this.lifetime=t.bullet.lifetime,this.update(-t.projectiles.cooldown)}draw(){this.parent.game.canvas;const t=this.parent.game.ctx;t.save(),t.translate(this.pos.x,this.pos.y),t.rotate(this.angle*(Math.PI/180)),t.scale(2*this.parent.bullet.size,2*this.parent.bullet.size),this.parent.bullet.enemy?t.fillStyle="red":t.fillStyle="white",t.beginPath(),t.moveTo(0,-2),t.lineTo(1.5,2),t.lineTo(0,1),t.lineTo(-1.5,2),t.closePath(),t.fill(),t.restore()}update(t){super.update(t),this.lifetime-=t}checkCollisions(){this.parent.game.asteroids.forEach((e=>{t(this,e)&&(e.damage(this.parent.bullet.damage),this.lifetime=0)}))}}class h extends e{constructor(t,e,s,i,a){super(e,{x:0,y:0},360*Math.random(),s),this.points=[],this.radius=t;let h,l=this.radius/3,o=this.radius-l/2,r=0,n=o+Math.random()*l;for(this.points.push({x:0,y:-n}),r+=5+20*Math.random();r<360;)h=o+Math.random()*l,this.points.push({x:h*Math.sin(r*(Math.PI/180)),y:-h*Math.cos(r*(Math.PI/180))}),r+=5+20*Math.random();this.health=t,this.sounds=i,this.asteroids=a;let c=20+Math.random()*(2e3/this.radius);this.vel={x:c*Math.sin(this.angle*(Math.PI/180)),y:c*Math.cos(this.angle*(Math.PI/180))}}draw(t){t.save(),t.strokeStyle="white",t.fillStyle="#404040",t.translate(this.pos.x,this.pos.y),t.rotate(this.angle*(Math.PI/180)),t.beginPath(),t.moveTo(this.points[0].x,this.points[0].y);for(let e=1;e<this.points.length;e++)t.lineTo(this.points[e].x,this.points[e].y);t.closePath(),t.fill(),t.stroke(),t.restore()}damage(t){if(!(this.health<=0)&&(this.health-=t,this.sounds.hit1.play(),this.health<=0&&(this.sounds.hit2.play(),this.radius>20))){let t=Math.floor(this.radius/10);t>5&&(t=5);let e=Math.floor(2+Math.random()*(t-1));for(let t=0;t<e;t++)this.asteroids().push(new h(this.radius/e,this.pos,this.worldSize,this.sounds,this.asteroids))}}}const l=document.createElement("template");l.innerHTML="\n<style>\ncanvas {\n\theight: 100%;\n\twidth: 100%;\n}\n:host {\n\toverflow: hidden;\n}\n</style>\n<canvas>\n";class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(l.content.cloneNode(!0)),this.canvas=this.shadowRoot.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.resolution=1080,document.defaultView.onresize=()=>{this.canvas.width=this.offsetWidth/this.offsetHeight*this.resolution,this.canvas.height=this.resolution},this.canvas.onmousemove=t=>{const e=this.canvas.width/this.canvas.offsetWidth,s=this.canvas.height/this.canvas.offsetHeight;this.mousePos={x:t.clientX*e,y:(t.clientY-this.canvas.offsetTop)*s}},this.canvas.onmousedown=this.canvas.onmouseup=t=>{this.mouseState=t.buttons},this.canvas.oncontextmenu=t=>{t.preventDefault()},document.onkeydown=t=>{switch(t.keyCode){case 87:this.player.thrusting=!0;break;case 65:this.player.turning.ccw=1;break;case 68:this.player.turning.cw=1;break;case 32:this.player.firing||(this.player.startFiring=!0)}},document.onkeyup=t=>{switch(t.keyCode){case 87:this.player.thrusting=!1;break;case 65:this.player.turning.ccw=0;break;case 68:this.player.turning.cw=0;break;case 32:this.player.firing=!1}},this.tutorials={ui:{activate(){this.time=15},time:0,draw(t){const e=t.canvas,s=t.ctx;s.save(),s.translate(e.width/2,e.height-50),s.globalAlpha=this.time/2,s.textAlign="center",s.font="40px Futura";let i=t.player.health.max<t.player.shield.max?3*t.player.shield.max:3*t.player.health.max;s.fillStyle="white",s.strokeStyle="#cf0000",s.fillText("Health",-i/2-65,35),s.strokeText("Health",-i/2-65,35),s.strokeStyle="#0000cf",s.fillText("Shield",-i/2-65,0),s.strokeText("Shield",-i/2-65,0),s.strokeStyle="white",s.fillStyle="rgba(255,255,255,0.1)",s.lineWidth=4,s.beginPath(),s.rect(-i/2,-30,i,80),s.stroke(),s.fill(),s.restore()}},controls:{activate(){this.time=5,this.turnLeft=!1,this.turnRight=!1,this.thrust=!1,this.shoot},time:0,draw(t){const e=t.canvas,s=t.ctx;s.save(),s.translate(100,e.height/2),s.globalAlpha=this.time/2,s.font="50px Futura",s.strokeStyle="white",s.save(),s.lineWidth=5,s.fillStyle="rgba(255,255,255,0.05)",s.beginPath(),s.rect(0,-e.height/4,300,300),s.stroke(),s.fill(),s.restore(),s.save(),s.translate(50,-e.height/4+50),s.scale(6,6),s.save(),s.rotate(Math.PI/180*45),s.fillStyle="white",s.beginPath(),s.moveTo(0,-2),s.lineTo(1.5,2),s.lineTo(0,1),s.lineTo(-1.5,2),s.closePath(),s.fill(),s.restore(),s.beginPath(),s.arc(0,0,4.2,Math.PI/180*180,Math.PI/180*270),s.stroke(),s.beginPath(),s.arc(0,0,4.2,Math.PI/180*0,Math.PI/180*90),s.stroke(),s.beginPath(),s.moveTo(0,-4),s.lineTo(-1,-3.5),s.lineTo(-1,-4.5),s.closePath(),s.stroke(),s.beginPath(),s.moveTo(0,4),s.lineTo(1,3.5),s.lineTo(1,4.5),s.closePath(),s.stroke(),s.restore(),s.save(),s.translate(50,-e.height/4+150),s.rotate(Math.PI/180*45),s.scale(6,6),s.fillStyle="white",s.beginPath(),s.moveTo(0,-2),s.lineTo(1.5,2),s.lineTo(0,1),s.lineTo(-1.5,2),s.closePath(),s.fill(),s.fillStyle="rgba(180,180,255, 0.8)",s.beginPath(),s.moveTo(0,1),s.lineTo(-1.2,3),s.lineTo(0,5),s.lineTo(1.2,3),s.closePath(),s.fill(),s.restore(),s.save(),s.translate(50,-e.height/4+250),s.rotate(Math.PI/180*45),s.fillStyle="white",s.save(),s.scale(6,6),s.beginPath(),s.moveTo(0,-2),s.lineTo(1.5,2),s.lineTo(0,1),s.lineTo(-1.5,2),s.closePath(),s.fill(),s.restore(),s.scale(2,2),s.beginPath(),s.moveTo(0,-13),s.lineTo(1.5,-9),s.lineTo(0,-10),s.lineTo(-1.5,-9),s.closePath(),s.fill(),s.beginPath(),s.moveTo(0,-19),s.lineTo(1.5,-15),s.lineTo(0,-16),s.lineTo(-1.5,-15),s.closePath(),s.fill(),s.restore(),s.fillStyle="white",s.lineWidth=2,s.lineJoin="round",s.fillText("A",120,-e.height/4+70),s.beginPath(),s.rect(113,-e.height/4+30,50,50),s.stroke(),s.fillText("D",200,-e.height/4+70),s.beginPath(),s.rect(193,-e.height/4+30,50,50),s.stroke(),s.fillText("W",120,-e.height/4+170),s.beginPath(),s.rect(117,-e.height/4+128,50,50),s.stroke(),s.fillText("Space",120,-e.height/4+260),s.beginPath(),s.rect(117,-e.height/4+220,130,58),s.stroke(),s.restore()}}},document.defaultView.onresize(),this.mousePos={x:0,y:0},this.worldSize=3e3,this.mouseState=0,this.lastMouseState=0,this.sounds={},this.player=new i({x:0,y:0},this),this.state="loading",this.loading=0,this.lastFrameTime=window.performance.now()/1e3,this.loop()}drawLoading(t,e){this.ctx.save(),this.ctx.fillStyle="white",this.ctx.strokeStyle="white",this.ctx.textAlign="center",this.ctx.font="30px Comic Sans MS",this.ctx.fillText("Loading...",this.canvas.width/2,this.canvas.height/2-20),this.ctx.beginPath(),this.ctx.rect(this.canvas.width/3,this.canvas.height/2,this.canvas.width/3,30),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.rect(this.canvas.width/3,this.canvas.height/2,this.canvas.width/3*(t/100),30),this.ctx.fill(),this.ctx.lineWidth=5,this.ctx.beginPath(),this.ctx.arc(this.canvas.width/2+100,this.canvas.height/2-30,20,2*Math.PI*(e%1/1),2*Math.PI*(e%1/1)+2/3*Math.PI),this.ctx.stroke(),this.ctx.restore()}loop(){requestAnimationFrame((()=>this.loop()));const t=window.performance.now()/1e3,e=t-this.lastFrameTime;switch(this.lastFrameTime=t,this.ctx.fillStyle="black",this.ctx.rect(0,0,this.canvas.width,this.canvas.height),this.ctx.fill(),this.state){case"loading":this.drawLoading(this.loading,t);break;case"main menu":this.ctx.save(),this.ctx.save();let a=this.resolution/1024;this.canvas.width>this.canvas.height&&(a=this.canvas.width/1024),this.ctx.scale(a,a),this.ctx.drawImage(this.images.purple6,0,0),this.ctx.restore(),this.ctx.save(),this.ctx.fillStyle="red",this.ctx.strokeStyle="white",this.ctx.textAlign="center",this.ctx.font="300px Futura",this.ctx.fillText("VOID",this.canvas.width/2,this.canvas.height/2-300),this.ctx.strokeText("VOID",this.canvas.width/2,this.canvas.height/2-300),this.ctx.fillText("BREAK",this.canvas.width/2,this.canvas.height/2-80),this.ctx.strokeText("BREAK",this.canvas.width/2,this.canvas.height/2-80),this.ctx.restore(),this.ctx.save(),this.ctx.fillStyle="red",s={x:this.mousePos.x,y:this.mousePos.y,w:0,h:0},i={x:this.canvas.width/2-90,y:this.canvas.height/2+130,w:185,h:75},s.x+s.w>i.x&&s.x<i.x+i.w&&s.y+s.h>i.y&&s.y<i.y+i.h&&(this.mouseState%2==1?this.ctx.fillStyle="darkRed":this.lastMouseState%2==1&&this.mouseState%2==0?(this.worldSize=this.defaults.worldSize,this.background=this.defaults.background,this.asteroidSpawning=this.defaults.asteroidSpawning,this.player.reset(),this.tutorials.ui.activate(),this.tutorials.controls.activate(),this.asteroids=[],this.score=0,this.state="game"):this.ctx.fillStyle="coral"),this.ctx.strokeStyle="white",this.ctx.textAlign="center",this.ctx.font="100px Futura",this.ctx.fillText("Start",this.canvas.width/2,this.canvas.height/2+200),this.ctx.strokeText("Start",this.canvas.width/2,this.canvas.height/2+200),this.ctx.restore(),this.ctx.restore();break;case"game":this.player.update(e),this.asteroids.forEach((t=>{t.update(e)})),this.asteroids=this.asteroids.filter((t=>t.health>0||(this.score++,!1)));for(const t in this.tutorials)this.tutorials[t].time-=e;for(;this.asteroids.length<this.asteroidSpawning.minLimit+this.score/this.asteroidSpawning.scorePerLimit;){let t=360*Math.random();this.asteroids.push(new h(this.asteroidSpawning.minSize+this.score/this.asteroidSpawning.scorePerSize,{x:this.player.pos.x+this.worldSize/2*Math.sin(t*(Math.PI/180)),y:this.player.pos.y+this.worldSize/2*Math.cos(t*(Math.PI/180))},this.worldSize,this.sounds,(()=>this.asteroids)))}this.player.checkCollisions(),this.ctx.save(),this.ctx.save(),this.ctx.translate(this.canvas.width/2-this.player.pos.x,this.canvas.height/2-this.player.pos.y);for(let t=-1;t<2;t++)for(let e=-1;e<2;e++)this.ctx.save(),this.ctx.translate(this.worldSize*t,this.worldSize*e),this.ctx.drawImage(this.images[this.defaults.background],0,0,this.worldSize,this.worldSize),this.ctx.restore();for(let t=-1;t<2;t++)for(let e=-1;e<2;e++)this.ctx.save(),this.ctx.translate(this.worldSize*t,this.worldSize*e),this.player.bullets.forEach((t=>{t.draw()})),this.asteroids.forEach((t=>{t.draw(this.ctx)})),this.ctx.restore();this.ctx.restore();for(const t in this.tutorials)this.tutorials[t].time>0&&this.tutorials[t].draw(this);this.player.draw(),this.ctx.fillStyle="white",this.ctx.font="40px Futura",this.ctx.fillText("Score: "+this.score,10,50),this.ctx.restore()}var s,i;this.lastMouseState=this.mouseState}}customElements.define("void-break",o);const r=document.querySelector("void-break"),n={purple5:"/assets/img/backgrounds/large/purple/purple-nebula-5.jpg",purple6:"/assets/img/backgrounds/large/purple/purple-nebula-6.jpg"};r.sounds.shoot1=new Howl({src:["/assets/sounds/shoot1.wav"]}),r.sounds.shoot1.volume(.3),r.loading+=100/6,r.sounds.hit1=new Howl({src:["/assets/sounds/hit1.wav"]}),r.sounds.hit1.volume(.5),r.loading+=100/6,r.sounds.hit2=new Howl({src:["/assets/sounds/hit2.wav"]}),r.sounds.hit2.volume(.5),r.loading+=100/6,fetch("/assets/data/defaults.json").then((t=>t.json())).then((t=>{r.loading+=100/6,r.defaults=t,r.loading>=99.9&&(r.images=n,r.state="main menu")}));for(let t in n){let e=new Image;e.src=n[t],n[t]=e,e.onload=function(){r.loading+=100/6,r.loading>=99.9&&(r.images=n,r.state="main menu")},e.onerror=function(){console.log("ERROR: image named '"+t+"' at "+this.src+" did not load!")}}})()})();